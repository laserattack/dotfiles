# ~/.i3blocks.conf

separator=true
separator_block_width=15

[ip4]
command=ip=$(ip -4 addr show | grep inet | grep wlo | awk '{print $2}' | cut -d/ -f1); if [ -n "$ip" ]; then echo '{"full_text":"IPv4: '"$ip"'", "color":"#00FF00"}'; else echo '{"full_text":"No IPv4", "color":"#FF0000"}'; fi
interval=5
format=json

[cpu_temp]
command=temp=$(cat /sys/class/thermal/thermal_zone0/temp); degrees=$((temp / 1000)); echo "coffee: ${degrees}Â°C"
interval=5
color=#C3B091

[battery]
#command=echo "$(cat /sys/class/power_supply/BAT0/status) $(cat /sys/class/power_supply/BAT0/capacity)%"
command=sta=$(cat /sys/class/power_supply/BAT0/status); now=$(cat /sys/class/power_supply/BAT0/energy_now); full=$(cat /sys/class/power_supply/BAT0/energy_full); val=$(echo "scale=1; 100 * $now / $full" | bc); case "$sta" in "Charging") s="CHG" ;; "Discharging") s="DIS" ;; "Not charging") s="NCH" ;; "Full") s="FUL" ;; *) s="UNK" ;; esac; echo "${s} ${val}%"
interval=30
color=#FFFFFF

[disk]
command=df -h / | awk 'NR==2 {print $4 "/" $2}'
interval=60
color=#FFFFFF

[ram]
command=awk '/^MemTotal:/ {total=$2} /^MemAvailable:/ {avail=$2} END {printf "%.1fG\n", (total - avail) / 1024 / 1024}' /proc/meminfo
interval=5
color=#FFFFFF

[volume]
command=vol=$(pactl get-sink-volume @DEFAULT_SINK@ | grep -oP '\d+%' | head -1); mute=$(pactl get-sink-mute @DEFAULT_SINK@ | awk '{if ($2 == "yes") print "Mute"; else print ""}'); if [ -n "$mute" ]; then color="#FFFF00"; text="${mute} ${vol}"; else color="#FFFFFF"; text="${vol}"; fi; echo '{"full_text":"'"${text}"'", "color":"'"$color"'"}'
interval=once
signal=10
format=json

[keyboard]
command=~/.local/bin/xkb-switch
color=#00FF00
interval=once
signal=10

[time]
command=date '+%Y-%m-%d %H:%M:%S'
interval=5
color=#FFFFFF

[separator]